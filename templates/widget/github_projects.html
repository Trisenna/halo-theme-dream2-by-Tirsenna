<div xmlns:th="https://www.thymeleaf.org"
    th:fragment="widget (sidebar)"
    th:class="'card widget github-projects ' + ${sidebar.hide}">
  <div class="card-title">
    <i th:class="${#strings.defaultString(sidebar.icon, 'ri-open-source-line') + ' card-title-label'}"></i>
    <span th:text="${#strings.defaultString(sidebar.title, '小项目 (☆.☆)')}"></span>
  </div>
  <div th:if="${#lists.isEmpty(theme.config.github.projects)}" class="card-empty">暂无项目</div>
  <div th:unless="${#lists.isEmpty(theme.config.github.projects)}" class="card-content">
    <div class="project-list">
      <th:block th:each="project : ${theme.config.github.projects}">
        <th:block th:with="repoId=${project.repo != null and project.repo != '' ? project.repo : (project.name != null and #strings.contains(project.name, '/') ? project.name : (project.url != null and project.url != '' ? #strings.substringAfter(project.url, 'github.com/') : ''))}">
          <a th:if="${repoId != null and repoId != ''}"
             class="project-item"
             th:attr="data-repo=${repoId}"
             th:href="${#strings.startsWith(repoId, 'http') ? repoId : 'https://github.com/' + repoId}"
             target="_blank"
             rel="noopener noreferrer">
            <div class="project-name">
              <i class="ri-github-fill"></i>
              <span class="project-name-text">加载中...</span>
            </div>
            <p class="project-desc" style="display:none;"></p>
            <div class="project-meta" style="display:none;"></div>
          </a>
        </th:block>
      </th:block>
    </div>
  </div>
</div>
